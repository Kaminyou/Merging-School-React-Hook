(this.webpackJsonphack2=this.webpackJsonphack2||[]).push([[0],[,,,,,,,,,function(e,n,t){},function(e,n,t){},,function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),i=t(4),c=t.n(i),o=(t(9),t(10),t(2)),s=t(0);function d(e){var n=e.handleReset,t=e.qs_ranking,r=e.best_qs_ranking,a=e.step;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{id:"title",children:"Merging School"}),Object(s.jsxs)("div",{className:"btn-groups",children:[Object(s.jsxs)("div",{className:"qs-ranking",id:"general-qs-ranking",children:["QS: ",Object(s.jsx)("p",{id:"general-qs-ranking-value",children:t})]}),Object(s.jsxs)("div",{className:"qs-ranking",id:"general-step",children:["Step: ",Object(s.jsx)("p",{id:"general-step-value",children:a})]}),Object(s.jsxs)("div",{className:"qs-ranking",id:"best-qs-ranking",children:["Best: ",Object(s.jsx)("p",{id:"best-qs-ranking-value",children:r})]}),Object(s.jsx)("div",{className:"button",id:"reset-button",onClick:n,children:"New Game"})]})]})}function u(e){var n=e.grid_value,t=e.row_idx,r=e.column_idx,a=e.grid_flag,i="grid-".concat(t,"-").concat(r),c="value-".concat(t,"-").concat(r),o="grid",d=0===n?"":n;return d&&(o+=" level-".concat(d)),a&&(o+=" school-fade-in"),Object(s.jsx)("td",{children:Object(s.jsx)("div",{className:o,id:i,children:Object(s.jsx)("div",{className:"school-name",id:c,children:{"":"",2:"NCTU",4:"NYMU",8:"NTU",16:"UCSD",32:"UBC",64:"CUHK",128:"UCLA",256:"NYU",512:"UCB",1024:"HKUST",2048:"UTokyo",4096:"Columbia",8192:"Yale",16384:"Cambridge",32768:"Stanford",65536:"MIT"}[d]})})})}function b(e){var n=e.row_vector,t=e.row_idx,r=e.row_flag;return Object(s.jsx)("tr",{children:n.map((function(e,n){return Object(s.jsx)(u,{grid_value:e,row_idx:t,column_idx:n,grid_flag:r[n]},n)}))})}function l(e){var n=e.board,t=e.handleReset,r=e.gameover,a=e.win,i=e.boardflag,c="board",o="info";r&&(c+=" game-over-board",o+=" game-over-wrapper end-fade-in");var d="No funding this year QAO";return a&&(d="You should study a PhD!"),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("table",{className:c,id:"board-full",children:Object(s.jsx)("tbody",{children:n.map((function(e,n){return Object(s.jsx)(b,{row_vector:e,row_idx:n,row_flag:i[n]},n)}))})}),Object(s.jsxs)("div",{className:o,id:"game-over-info",children:[Object(s.jsx)("span",{id:"game-over-text",children:d}),Object(s.jsx)("div",{className:"button",id:"game-over-button",onClick:t,children:"Try again"})]})]})}t(12);for(var f=1,j="Kaminyou".split(""),v=0;v<j.length;v++)f*=j[v].charCodeAt(0),f%=4294967295;var g=function(){var e=Object(r.useState)([[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,2,0,0]]),n=Object(o.a)(e,2),t=n[0],a=n[1],i=Object(r.useState)([[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,1,0,0]]),c=Object(o.a)(i,2),u=c[0],b=c[1],j=Object(r.useState)(32768),v=Object(o.a)(j,2),g=v[0],h=v[1],O=Object(r.useState)(32768),m=Object(o.a)(O,2),x=m[0],p=m[1],k=Object(r.useState)(!1),N=Object(o.a)(k,2),C=N[0],_=N[1],w=Object(r.useState)(0),S=Object(o.a)(w,2),y=S[0],q=S[1],U=Object(r.useState)(!1),T=Object(o.a)(U,2),F=T[0],B=T[1],E=Object(r.useState)(f),L=Object(o.a)(E,2),A=L[0],D=(L[1],function(e,n,t){var r=e+n;return(r=3042594569^(r=(r=(r=(r=3345072700^(r=r+2127912214+(r<<12))^r>>19)+374761393+(r<<5))+3550635116^r<<9)+4251993797+(r<<3))^r>>16)<0&&(r=4294967295+r),r%t}),J=function(e){for(var n=[],t=function(t){var r=e.map((function(e){return e[t]})).reverse();n.push(r)},r=0;r<e[0].length;r++)t(r);return n},M=function(e){for(var n=[],t=function(t){var r=e.map((function(e){return e[t]}));n.push(r)},r=e[0].length-1;r>=0;r--)t(r);return n},R=function(){var e=Y([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],!0);e=Y(e.board,e.boardflag,!0),a(e.board),h(32768),_(!1),q(0),B(!1),b(e.boardflag)},Y=function(e,n,t){var r=function(e){for(var n=[],t=0;t<4;t++)for(var r=0;r<4;r++)0===e[t][r]&&n.push([t,r]);return n}(e),a=D(A,y,r.length);t&&(a=D(A,0,r.length));var i=r[a];return e[i[0]][i[1]]=2,n[i[0]][i[1]]=1,{board:e,boardflag:n}},I=function(e,n){return JSON.stringify(e)!==JSON.stringify(n)},K=function(e){var n=J(e),t=P(n);return{board:M(t.board),combination:t.combination}},P=function(e){for(var n=[],t=0,r=0;r<e.length;r++){for(var a=[],i=0;i<e[r].length;i++){var c=e[r][i];0===c?a.unshift(c):a.push(c)}n.push(a)}for(var o=0;o<n.length;o++)if(n[o][0]!==n[o][1]||0===n[o][0]||n[o][2]!==n[o][3]||0===n[o][2])for(var s=n[o].length-1;s>0;s--)n[o][s]>0&&n[o][s]===n[o][s-1]?(n[o][s]=2*n[o][s],n[o][s-1]=0,t+=1):0===n[o][s]&&n[o][s-1]>0&&(n[o][s]=n[o][s-1],n[o][s-1]=0);else n[o][3]=2*n[o][3],n[o][2]=2*n[o][1],n[o][1]=0,n[o][0]=0,t+=2;return{board:n,combination:t}},G=function(e){var n=M(e),t=P(n);return{board:J(t.board),combination:t.combination}},H=function(e){var n=J(J(e)),t=P(n);return{board:M(M(t.board)),combination:t.combination}},Q=function(e){if(!C)if("up"===e){var n=K(t);z(n)}else if("right"===e){var r=P(t);z(r)}else if("down"===e){var a=G(t);z(a)}else if("left"===e){var i=H(t);z(i)}},z=function(e){if(I(t,e.board)){var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=Y(e.board,n,!1),i=g-e.combination,c=y+1;a(r.board),h(i),q(c),b(r.boardflag),i<x&&p(i),V(r.board)&&_(!0)}},V=function(e){var n=![I(e,K(e).board),I(e,P(e).board),I(e,G(e).board),I(e,H(e).board)].includes(!0);return W(e)&&(n=!0),n},W=function(e){for(var n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++)if(65536===e[n][t])return B(!0),!0;return!1},X=function(e){e.preventDefault(),37===e.keyCode?Q("left"):38===e.keyCode?Q("up"):39===e.keyCode?Q("right"):40===e.keyCode&&Q("down")};return Object(r.useEffect)((function(){var e=document.querySelector("body");return e.addEventListener("keydown",X),function(){return e.removeEventListener("keydown",X)}}),[t,u,g,y,x,C,F]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d,{handleReset:R,qs_ranking:g,best_qs_ranking:x,step:y}),Object(s.jsx)(l,{className:"wrapper",board:t,handleReset:R,gameover:C,win:F,boardflag:u}),Object(s.jsxs)("div",{className:"btn-groups",children:[Object(s.jsx)("div",{className:"btn-useful",id:"badend-btn",onClick:function(){a([[2,4,2,4],[4,2,4,2],[2,4,2,128],[4,128,2,2]])},children:"BadEnd"}),Object(s.jsx)("div",{className:"btn-useful",id:"goodend-btn",onClick:function(){a([[2,2,4,8],[128,64,32,16],[256,512,1024,2048],[32768,16384,8192,4096]])},children:"GoodEnd"})]})]})};var h=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(g,{})})},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,14)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(h,{})}),document.getElementById("root")),O()}],[[13,1,2]]]);
//# sourceMappingURL=main.18e9bb22.chunk.js.map